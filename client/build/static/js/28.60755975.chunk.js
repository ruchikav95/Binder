(this["webpackJsonpapp-frontend"]=this["webpackJsonpapp-frontend"]||[]).push([[28],{1065:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(7),o=n(16),c=n(15),i=n(17),s=n(0),l=n.n(s),u=n(567),m=n(568),b=n(569),d=n(145),p=n(610),f=n(622),h=n(686),v=n(1059),j=n(558),O=n(53),y=n(584),g=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).valueAsArray=function(){var e=n.props.value;return e?Array.isArray(e)?e:[e]:[]},n.label=function(e){return e?e.fullName?"".concat(e.fullName," <").concat(e.email,">"):e.email:null},n.displayableRecord=function(e){return n.props.hasPermissionToRead?l.a.createElement("div",{key:e.id},l.a.createElement(j.a,{to:"/iam/".concat(e.id)},n.label(e))):l.a.createElement("div",{key:e.id},n.label(e))},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return this.valueAsArray().length?l.a.createElement(v.a.Item,Object.assign({},f.b,{label:this.props.label}),this.valueAsArray().map((function(t){return e.displayableRecord(t)}))):null}}]),t}(s.Component),E=Object(O.c)((function(e){return{hasPermissionToRead:y.a.selectPermissionToRead(e)}}))(g),k=d.a.fields,w=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"renderView",value:function(){var e=this.props.record;return l.a.createElement(f.a,null,l.a.createElement(h.a,{label:k.id.label,value:k.id.forView(e.id)}),l.a.createElement(h.a,{label:k.bookName.label,value:k.bookName.forView(e.bookName)}),l.a.createElement(h.a,{label:k.author.label,value:k.author.forView(e.author)}),l.a.createElement(h.a,{label:k.subject.label,value:k.subject.forView(e.subject)}),l.a.createElement(E,{label:k.bookOwner.label,value:k.bookOwner.forView(e.bookOwner)}),l.a.createElement(h.a,{label:k.createdAt.label,value:k.createdAt.forView(e.createdAt)}),l.a.createElement(h.a,{label:k.updatedAt.label,value:k.updatedAt.forView(e.updatedAt)}))}},{key:"render",value:function(){var e=this.props,t=e.record;return e.loading||!t?l.a.createElement(p.a,null):this.renderView()}}]),t}(s.Component),C=n(5),T=n(164),P=n(4),A=function(e){return e.book.view},x=Object(P.a)([A],(function(e){return e.record})),R={selectLoading:Object(P.a)([A],(function(e){return!!e.loading})),selectRecord:x,selectRaw:A},L=n(139),I=n(668),U=n(572),D=n(654),V=n(653),N=n(93),F=n(83),J=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).id=function(){return n.props.match.params.id},n.doDestroy=function(){(0,n.props.dispatch)(N.a.doDestroy(n.id()))},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.hasPermissionToEdit,a=t.hasPermissionToAuditLogs,r=t.hasPermissionToDestroy,o=t.destroyLoading;return l.a.createElement(U.a,null,n&&l.a.createElement(j.a,{to:"/book/".concat(this.id(),"/edit")},l.a.createElement(L.a,{type:"primary",icon:"edit"},Object(C.c)("common.edit"))),r&&l.a.createElement(I.a,{title:Object(C.c)("common.areYouSure"),onConfirm:function(){return e.doDestroy()},okText:Object(C.c)("common.yes"),cancelText:Object(C.c)("common.no")},l.a.createElement(L.a,{type:"primary",icon:"delete",disabled:o},Object(C.c)("common.destroy"))),a&&l.a.createElement(j.a,{to:"/audit-logs?entityId=".concat(encodeURIComponent(this.id()))},l.a.createElement(L.a,{icon:"file-search"},Object(C.c)("auditLog.menu"))))}}]),t}(s.Component);var M=Object(O.c)((function(e){return{hasPermissionToAuditLogs:F.a.selectPermissionToRead(e),hasPermissionToEdit:D.a.selectPermissionToEdit(e),hasPermissionToDestroy:D.a.selectPermissionToDestroy(e),destroyLoading:V.a.selectLoading(e)}}))(J),S=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,n=e.match;t(T.a.doFind(n.params.id))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{items:[[Object(C.c)("home.menu"),"/"],[Object(C.c)("entities.book.menu"),"/book"],[Object(C.c)("entities.book.view.title")]]}),l.a.createElement(u.a,null,l.a.createElement(m.a,null,Object(C.c)("entities.book.view.title")),l.a.createElement(M,{match:this.props.match}),l.a.createElement(w,{loading:this.props.loading,record:this.props.record})))}}]),t}(s.Component);t.default=Object(O.c)((function(e){return{loading:R.selectLoading(e),record:R.selectRecord(e)}}))(S)},567:function(e,t,n){"use strict";var a=n(98);function r(){var e=Object(a.a)(["\n  margin: 0px;\n  margin-top: 16px;\n  padding: 24px;\n  border-radius: 5px;\n  background: #fff;\n  border: 1px solid #e9e9e9;\n  overflow-y: hidden;\n"]);return r=function(){return e},e}var o=n(99).a.div(r());t.a=o},568:function(e,t,n){"use strict";var a=n(98);function r(){var e=Object(a.a)(["\n  margin-bottom: 36px;\n"]);return r=function(){return e},e}var o=n(99).a.h1(r());t.a=o},569:function(e,t,n){"use strict";var a=n(6),r=n(7),o=n(16),c=n(15),i=n(17),s=n(0),l=n.n(s),u=n(558),m=n(615),b=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(i)))).isLink=function(e){return e.length>1},n}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(m.a,null,this.props.items.map((function(t){return l.a.createElement(m.a.Item,{key:t[0]},e.isLink(t)?l.a.createElement(u.a,{to:t[1]},t[0]):t[0])})))}}]),t}(s.Component);t.a=b},572:function(e,t,n){"use strict";var a=n(98);function r(){var e=Object(a.a)(["\n  margin-bottom: 24px;\n\n  .ant-btn {\n    margin-right: 8px;\n    margin-bottom: 8px;\n  }\n"]);return r=function(){return e},e}var o=n(99).a.div(r());t.a=o},584:function(e,t,n){"use strict";var a=n(4),r=n(42),o=n(51),c=n(142),i={selectPermissionToRead:Object(a.a)([r.a.selectCurrentUser],(function(e){return new o.a(e).match(c.a.values.iamRead)})),selectPermissionToEdit:Object(a.a)([r.a.selectCurrentUser],(function(e){return new o.a(e).match(c.a.values.iamEdit)})),selectPermissionToCreate:Object(a.a)([r.a.selectCurrentUser],(function(e){return new o.a(e).match(c.a.values.iamCreate)})),selectPermissionToImport:Object(a.a)([r.a.selectCurrentUser],(function(e){return new o.a(e).match(c.a.values.iamImport)}))};t.a=i},610:function(e,t,n){"use strict";var a=n(6),r=n(7),o=n(16),c=n(15),i=n(17),s=n(0),l=n.n(s),u=n(589),m=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{style:{width:"100%",margin:"24px",display:"flex",justifyContent:"center",alignContent:"center",alignItems:"center"}},l.a.createElement(u.a,null))}}]),t}(s.Component);t.a=m},622:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(98);function r(){var e=Object(a.a)(["\n  padding: 24px;\n  padding-top: 0;\n  padding-bottom: 0;\n\n  .ant-row {\n    margin-bottom: 8px;\n  }\n"]);return r=function(){return e},e}var o=n(99).a.div(r()),c={labelCol:{md:{span:6},lg:{span:4}},wrapperCol:{md:{span:18},lg:{span:12}}};t.a=o},653:function(e,t,n){"use strict";var a=n(4),r=Object(a.a)([function(e){return e.book.destroy}],(function(e){return!!e.loading}));t.a={selectLoading:r}},654:function(e,t,n){"use strict";var a=n(4),r=n(42),o=n(51),c=n(142),i=Object(a.a)([r.a.selectCurrentUser],(function(e){return new o.a(e).match(c.a.values.bookRead)})),s=Object(a.a)([r.a.selectCurrentUser],(function(e){return new o.a(e).match(c.a.values.bookEdit)})),l=Object(a.a)([r.a.selectCurrentUser],(function(e){return new o.a(e).match(c.a.values.bookCreate)})),u=Object(a.a)([r.a.selectCurrentUser],(function(e){return new o.a(e).match(c.a.values.bookImport)})),m={selectPermissionToRead:i,selectPermissionToEdit:s,selectPermissionToCreate:l,selectPermissionToDestroy:Object(a.a)([r.a.selectCurrentUser],(function(e){return new o.a(e).match(c.a.values.bookDestroy)})),selectPermissionToImport:u};t.a=m},686:function(e,t,n){"use strict";var a=n(6),r=n(7),o=n(16),c=n(15),i=n(17),s=n(1059),l=n(0),u=n.n(l),m=n(622),b=function(e){function t(){return Object(a.a)(this,t),Object(o.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.value||0===this.props.value||!1===this.props.value?u.a.createElement(s.a.Item,Object.assign({},m.b,{label:this.props.label}),u.a.createElement("strong",null,this.props.prefix?"".concat(this.props.prefix," "):"",this.props.value)):null}}]),t}(l.Component);t.a=b}}]);